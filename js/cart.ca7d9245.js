"use strict";(self["webpackChunkknock_ding_yanxuan"]=self["webpackChunkknock_ding_yanxuan"]||[]).push([[511],{4885:function(t,s,e){e.r(s),e.d(s,{default:function(){return u}});var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"cart_page"},[s("table",[t._m(0),s("tbody",t._l(t.cartList,(function(e,i){return s("tr",{key:e.id},[s("td"),s("td",[s("section",[s("img",{attrs:{width:"84",src:t.imgUrl+e.coverImg,alt:"列表图片"}}),s("div",{staticClass:"info"},[s("h5",[t._v(t._s(e.title))]),s("p",[t._v(t._s(e.versionDescription))])])])]),s("td",[t._v(t._s(e.coin)+"鸡腿")]),s("td",[s("div",{staticClass:"step"},[s("span",[t._v("-")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.stepNum[i],expression:"stepNum[index]"}],attrs:{type:"text",disabled:""},domProps:{value:t.stepNum[i]},on:{input:function(s){s.target.composing||t.$set(t.stepNum,i,s.target.value)}}}),s("span",[t._v("+")])])]),s("td",[t._v(t._s(e.coin)+"鸡腿")]),s("td",[s("span",{staticClass:"del",on:{click:function(s){return t.deleteShopCart(e.id)}}},[t._v("删除")])])])})),0)]),s("div",{staticClass:"total"},[t._v(" 总计："),s("span",[t._v(t._s(t.totalPrice)+"鸡腿")])]),s("div",{staticClass:"submit"},[t._v("提交")])])},a=[function(){var t=this,s=t._self._c;return s("thead",[s("tr",[s("th",{staticStyle:{width:"8%"}}),s("th",{staticStyle:{width:"30%"}},[t._v("礼品信息")]),s("th",[t._v("兑换分数")]),s("th",[t._v("数量")]),s("th",[t._v("小计 (鸡腿)")]),s("th",[t._v("操作")])])])}],c=(e(7658),e(735)),n={data(){return{stepNum:[],checkAll:!1,checkList:[],cartList:[]}},created(){this.getCartList()},methods:{async getCartList(){const{data:t}=await(0,c.Dg)();this.cartList=t,this.cartList.forEach((t=>{this.stepNum.push(t.total)}))},deleteShopCart(t){this.$confirm("确定删除该商品吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{const s=await(0,c.kN)(t);0===s.code&&(this.$message({type:"success",message:"删除成功!"}),this.cartList=this.cartList.filter((s=>s.id!==t)))})).catch((()=>{this.$message({type:"info",message:"已取消删除"})})),this.getCartList()}},computed:{totalPrice(){let t=0;return this.cartList.forEach((s=>{t+=s.coin*s.total})),t}}},r=n,o=e(1001),l=(0,o.Z)(r,i,a,!1,null,"e1c55494",null),u=l.exports}}]);
//# sourceMappingURL=cart.ca7d9245.js.map