{"version":3,"file":"js/goods.75b46c18.js","mappings":"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","sources":["webpack://knock-ding-yanxuan/./src/components/Crumb.vue","webpack://knock-ding-yanxuan/src/components/Crumb.vue","webpack://knock-ding-yanxuan/./src/components/Crumb.vue?f0f0","webpack://knock-ding-yanxuan/./src/components/Crumb.vue?9916","webpack://knock-ding-yanxuan/./src/components/home/List.vue","webpack://knock-ding-yanxuan/src/components/home/List.vue","webpack://knock-ding-yanxuan/./src/components/home/List.vue?961b","webpack://knock-ding-yanxuan/./src/components/home/List.vue?b56e","webpack://knock-ding-yanxuan/./src/views/Goods.vue","webpack://knock-ding-yanxuan/./src/utils/index.js","webpack://knock-ding-yanxuan/src/views/Goods.vue","webpack://knock-ding-yanxuan/./src/views/Goods.vue?a996","webpack://knock-ding-yanxuan/./src/views/Goods.vue?cee9"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"crumb\"},[_c('span',_vm._l((_vm.nav),function(item,index){return _c('span',{key:index,style:({ color: index === _vm.nav.length - 1 ? '#333' : '#999' })},[_vm._v(\" \"+_vm._s(item.name)+\" \"),(index != _vm.nav.length - 1)?_c('i',[_vm._v(\"/\")]):_vm._e()])}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"crumb\">\n\t\t<span>\n\t\t\t<span\n\t\t\t\t:style=\"{ color: index === nav.length - 1 ? '#333' : '#999' }\"\n\t\t\t\tv-for=\"(item, index) in nav\"\n\t\t\t\t:key=\"index\"\n\t\t\t>\n\t\t\t\t{{ item.name }}\n\t\t\t\t<i v-if=\"index != nav.length - 1\">/</i>\n\t\t\t</span>\n\t\t</span>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname : \"Crumb\",\n\tprops: [\"nav\"],\n\tdata() {\n\t\treturn {};\n\t}\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.crumb {\n\tfont-size: 14px;\n\tmargin: 10px 0;\n\ti {\n\t\tmargin: 0 5px;\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Crumb.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Crumb.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Crumb.vue?vue&type=template&id=26857958&scoped=true&\"\nimport script from \"./Crumb.vue?vue&type=script&lang=js&\"\nexport * from \"./Crumb.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Crumb.vue?vue&type=style&index=0&id=26857958&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"26857958\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('ul',{staticClass:\"list\"},_vm._l((_vm.arr),function(item,index){return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(index < 4),expression:\"index < 4\"}],key:item.id,on:{\"click\":function($event){return _vm.goToDetails(item.id)}}},[_c('section',[_c('img',{attrs:{\"src\":_vm.imgUrl+item.coverImg,\"alt\":\"\"}}),_c('div',{staticClass:\"bottom-box\"},[_c('h3',[_vm._v(_vm._s(item.name))]),_c('p',[_vm._v(_vm._s(item.coin)+\" 积分\")]),_c('div',{staticClass:\"btn\"},[_vm._v(\"立即兑换\")])]),_c('img',{staticClass:\"flag\",attrs:{\"src\":require(\"../../assets/img/section_new.png\"),\"alt\":\"\"}}),_c('img',{staticClass:\"flag\",attrs:{\"src\":require(\"../../assets/img/section_hot.png\"),\"alt\":\"\"}})])])}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<ul class=\"list\">\n\t\t<li\n\t\t\tv-for=\"(item, index) in arr\"\n\t\t\t:key=\"item.id\"\n\t\t\tv-show=\"index < 4\"\n\t\t\t@click=\"goToDetails(item.id)\"\n\t\t>\n\t\t\t<section>\n\t\t\t\t<img :src=\"imgUrl+item.coverImg\" alt=\"\" />\n\t\t\t\t<div class=\"bottom-box\">\n\t\t\t\t\t<h3>{{ item.name }}</h3>\n\t\t\t\t\t<p>{{ item.coin }} 积分</p>\n\t\t\t\t\t<div class=\"btn\">立即兑换</div>\n\t\t\t\t</div>\n\t\t\t\t<img\n\t\t\t\t\tclass=\"flag\"\n\t\t\t\t\tsrc=\"../../assets/img/section_new.png\"\n\t\t\t\t\talt=\"\"\n\t\t\t\t/>\n\t\t\t\t<img\n\t\t\t\t\tclass=\"flag\"\n\t\t\t\t\tsrc=\"../../assets/img/section_hot.png\"\n\t\t\t\t\talt=\"\"\n\t\t\t\t/>\n\t\t\t</section>\n\t\t</li>\n\t</ul>\n</template>\n\n<script>\nexport default {\n\tprops: [\"arr\"],\n\tdata() {\n\t\treturn {};\n\t},\n\tmethods: {\n\t\tgoToDetails(id) {\n\t\t\tthis.$router.push(`/detail?id=${id}`);\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.list {\n\t/* width: 1220px; */\n\t/* overflow: hidden; */\n\tdisplay: flex;\n\t/* 自动换行 */\n\tflex-wrap: wrap;\n\n\tli {\n\t\t& section :nth-child(1) {\n\t\t\twidth: 285px;\n\t\t\theight: 330px;\n\t\t}\n\t\t&:nth-of-type(4n) {\n\t\t\tmargin-right: 0px;\n\t\t}\n\t\twidth: 285px;\n\t\tfloat: left;\n\t\tmargin-bottom: 20px;\n\t\tmargin-right: 20px;\n\t\tposition: relative;\n\t\tsection {\n\t\t\twidth: 285px;\n\t\t\theight: 492px;\n\t\t\tposition: relative;\n\t\t\ttransition: all 0.5s linear;\n\t\t}\n\n\t\t.bottom-box {\n\t\t\twidth: 285px;\n\t\t\theight: 162px;\n\t\t\tbackground-color: #fff;\n\t\t\ttext-align: center;\n\t\t\th3 {\n\t\t\t\tfont-size: 18px;\n\t\t\t\tfont-family: SourceHanSansSC;\n\t\t\t\tfont-weight: 300;\n\t\t\t\tcolor: #333333;\n\t\t\t\theight: 56px;\n\t\t\t\tline-height: 56px;\n\t\t\t\t/* background-color: #ffc; */\n\t\t\t}\n\t\t\tp {\n\t\t\t\tfont-size: 18px;\n\t\t\t\tfont-family: SourceHanSansSC;\n\t\t\t\tfont-weight: bold;\n\t\t\t\tcolor: #fd604d;\n\t\t\t}\n\t\t\t.btn {\n\t\t\t\twidth: 100px;\n\t\t\t\theight: 36px;\n\t\t\t\tline-height: 36px;\n\t\t\t\tborder: 1px solid #0a328e;\n\t\t\t\tmargin: 20px auto 0;\n\t\t\t\tfont-size: 18px;\n\t\t\t\tfont-family: SourceHanSansSC;\n\t\t\t\tfont-weight: 300;\n\t\t\t\tcolor: #0a328e;\n\t\t\t}\n\t\t}\n\n\t\t.flag {\n\t\t\tposition: absolute;\n\t\t\tleft: 0;\n\t\t\ttop: 0;\n\t\t}\n\n\t\t&:hover {\n\t\t\tcursor: pointer;\n\t\t\tsection {\n\t\t\t\tmargin-top: -15px;\n\t\t\t\tbox-shadow: 0 0 10px #ccc;\n\t\t\t\t.btn {\n\t\t\t\t\tbackground-color: #0a328e;\n\t\t\t\t\tcolor: #fff;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=bc3f6f4e&scoped=true&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\nimport style0 from \"./List.vue?vue&type=style&index=0&id=bc3f6f4e&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bc3f6f4e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"goods\"},[_c('div',{staticClass:\"wrap\"},[_c('Crumb'),_c('img',{attrs:{\"src\":require(\"../assets/img/banner.4c6b6225.png\"),\"width\":\"100%\",\"alt\":\"\"}}),_c('ul',{staticClass:\"options\"},[_c('li',[_c('strong',[_vm._v(\"排序：\")]),_vm._l((_vm.option1),function(item,index){return _c('span',{key:index,class:_vm.num1 == index ? 'active' : '',on:{\"click\":function($event){return _vm.option1Click(index, item.min, item.max)}}},[_vm._v(\" \"+_vm._s(item.txt))])})],2),_c('li',[_c('strong',[_vm._v(\"分类：\")]),_vm._l((_vm.option2),function(item,index){return _c('span',{key:index,class:_vm.num2 == index ? 'active' : '',on:{\"click\":function($event){return _vm.option2Click(index, item.type)}}},[_vm._v(\" \"+_vm._s(item.txt))])})],2)]),_c('List',{attrs:{\"arr\":_vm.goodsListShow,\"maxLength\":300}}),_c('p',{staticStyle:{\"text-align\":\"center\",\"margin-top\":\"20px\"}},[_vm._v(\" \"+_vm._s(_vm.isReachBottom ? \"已经没有数据了\" : \"正在加载 ... ...\")+\" \")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// validatePhoneNumber这个方法用来验证手机号是否符合规则\nexport const validatePhoneNumber = (value) => {\n\tlet reg = /^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\\d{8}$/;\n\treturn reg.test(value);\n};\n\n//获取滚动条当前的位置\nexport function getScrollTop() {\n\tvar scrollTop = 0;\n\tif (document.documentElement && document.documentElement.scrollTop) {\n\t\tscrollTop = document.documentElement.scrollTop;\n\t}\n\telse if (document.body) {\n\t\tscrollTop = document.body.scrollTop;\n\t}\n\treturn scrollTop;\n}\n\n//获取当前可视范围的高度\nexport function getClientHeight() {\n\tvar clientHeight = 0;\n\tif (document.body.clientHeight && document.documentElement.clientHeight) {\n\t\tclientHeight = Math.min(\n\t\t\tdocument.body.clientHeight,\n\t\t\tdocument.documentElement.clientHeight\n\t\t);\n\t}\n\telse {\n\t\tclientHeight = Math.max(\n\t\t\tdocument.body.clientHeight,\n\t\t\tdocument.documentElement.clientHeight\n\t\t);\n\t}\n\treturn clientHeight;\n}\n\n//获取文档完整的高度\nexport function getScrollHeight() {\n\treturn Math.max(\n\t\tdocument.body.scrollHeight,\n\t\tdocument.documentElement.scrollHeight\n\t);\n}\n","<template>\n\t<div class=\"goods\">\n\t\t<div class=\"wrap\">\n\t\t\t<Crumb> </Crumb>\n\t\t\t<img src=\"../assets/img/banner.4c6b6225.png\" width=\"100%\" alt=\"\" />\n\t\t\t<ul class=\"options\">\n\t\t\t\t<li>\n\t\t\t\t\t<strong>排序：</strong>\n\t\t\t\t\t<span\n\t\t\t\t\t\t:class=\"num1 == index ? 'active' : ''\"\n\t\t\t\t\t\tv-for=\"(item, index) in option1\"\n\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\t@click=\"option1Click(index, item.min, item.max)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ item.txt }}</span\n\t\t\t\t\t>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<strong>分类：</strong>\n\t\t\t\t\t<span\n\t\t\t\t\t\t:class=\"num2 == index ? 'active' : ''\"\n\t\t\t\t\t\tv-for=\"(item, index) in option2\"\n\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\t@click=\"option2Click(index, item.type)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ item.txt }}</span\n\t\t\t\t\t>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<List :arr=\"goodsListShow\" :maxLength=\"300\" />\n\t\t\t<p style=\"text-align: center; margin-top: 20px;\">\n\t\t\t\t{{ isReachBottom ? \"已经没有数据了\" : \"正在加载 ... ...\" }}\n\t\t\t</p>\n\t\t</div>\n\t</div>\n</template>\n<script>\nimport Crumb from \"../components/Crumb.vue\";\nimport List from \"../components/home/List.vue\";\nimport { reqGetGoodsSearch } from \"@/request/api\";\nimport { getClientHeight, getScrollHeight, getScrollTop } from \"@/utils\";\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\t// 请求回来的商品列表数据\n\t\t\tgoodsList    : [],\n\t\t\t// 用来展示的goodsList数组\n\t\t\tgoodsListShow: [],\n\t\t\t// 每页条数 size\n\t\t\tsize         : 8,\n\t\t\tpage         : 1,\n\t\t\t// isLoading 是否正在加载\n\t\t\tisLoading    : false,\n\t\t\t// 是不是已经没有数据的布尔值\n\t\t\tisReachBottom: false,\n\t\t\t// 栏目 目前可提供的参数是 1->精品推荐 2-> 热门兑换 0->全部\n\t\t\tdid          : 0,\n\t\t\t// ( 1->实体商品 2->虚拟商品 0->全部 )\n\t\t\ttype         : 0,\n\t\t\t// 积分范围的最小值\n\t\t\tmin          : 0,\n\t\t\t// 积分返回的最大值\n\t\t\tmax          : 0,\n\t\t\t// 搜索框中的关键词\n\t\t\tkeyword      : \"\",\n\n\t\t\t// 排序的数组项\n\t\t\t// 我能兑换的 0-500分 1000-1500分 1500-2500分\n\t\t\toption1: [\n\t\t\t\t{ min: 0, max: 100000, txt: \"全部\" },\n\t\t\t\t{ min: 0, max: 0, txt: \"我能兑换的\" },\n\t\t\t\t{ min: 0, max: 500, txt: \"0-500分\" },\n\t\t\t\t{ min: 500, max: 1000, txt: \"500-1000分\" },\n\t\t\t\t{ min: 1000, max: 1500, txt: \"1500-2500分\" },\n\t\t\t\t{ min: 2500, max: 6500, txt: \"2500-6500分\" },\n\t\t\t\t{ min: 6500, max: 10000, txt: \"6500-10000分\" }\n\t\t\t],\n\t\t\t// 分类的数组项\n\t\t\toption2: [\n\t\t\t\t{ type: 0, txt: \"全部\" },\n\t\t\t\t{ type: 1, txt: \"实物商品\" },\n\t\t\t\t{ type: 2, txt: \"虚拟商品\" }\n\t\t\t],\n\t\t\t// 排序当前项记录\n\t\t\tnum1: 0,\n\t\t\t// 分类当前项记录\n\t\t\tnum2: 0\n\t\t};\n\t},\n\tcreated() {\n\t\t// this.keyword=路由参数keyword\n\t\tthis.keyword = this.$route.query.keyword || \"\";\n\t\tconsole.log(\"this.keyword\", this.keyword);\n\t\tthis.goodsSearch();\n\t},\n\tmounted() {\n\t\twindow.addEventListener(\"scroll\", this.scrollFn);\n\t},\n\tbeforeDestroy() {\n\t\twindow.removeEventListener(\"scroll\", this.scrollFn);\n\t},\n\twatch: {\n\t\t\"$route.query.keyword\": {\n\t\t\thandler(newVal, oldVal) {\n\t\t\t\t// 什么时候执行? 地址栏上面的keyword一变化就会执行\n\t\t\t\tthis.keyword = newVal;\n\t\t\t\t// 发送请求\n\t\t\t\tthis.goodsSearch();\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tscrollFn() {\n\t\t\t// 节流:利用一个变量,控制代码在一段时间内(setTimeout)不会重复触发执行\n\n\t\t\t// if(有没有到底部了){\n\t\t\t// if(窗口高度+超出窗口高度的网页>= 页面高度){\n\t\t\tif (getClientHeight() + getScrollTop() >= getScrollHeight() - 20) {\n\t\t\t\t// 到底部了就在goodsList数组中取8个元素到goodsListShow数组中\n\t\t\t\tconsole.log(\"到底部了\");\n\t\t\t\t// if(是不是没有数据了){\n\t\t\t\tif (this.goodsListShow.length >= this.goodsList.length) {\n\t\t\t\t\tthis.isReachBottom = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (this.isLoading == false) {\n\t\t\t\t\tthis.isLoading = true;\n\t\t\t\t\t// 下一次加载第page页的数据,所以page需要++\n\t\t\t\t\tthis.page++;\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\tvar i = this.size * (this.page - 1);\n\t\t\t\t\t\t\ti < this.size * this.page;\n\t\t\t\t\t\t\ti++\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t// 处理最后一页没有整除的情况,加了个判断\n\t\t\t\t\t\t\tthis.goodsList[i]\n\t\t\t\t\t\t\t\t? this.goodsListShow.push(this.goodsList[i])\n\t\t\t\t\t\t\t\t: \"\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.isLoading = false;\n\t\t\t\t\t}, 500);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\toption1Click(i, min, max) {\n\t\t\t// 处理样式\n\t\t\tthis.num1 = i;\n\t\t\t// 需要要传参的数据\n\t\t\tthis.min = min;\n\t\t\tthis.max = max;\n\n\t\t\t// 发送请求\n\t\t\tthis.goodsSearch();\n\t\t},\n\t\toption2Click(i, type) {\n\t\t\t// 处理样式\n\t\t\tthis.num2 = i;\n\t\t\t// 需要要传参的数据\n\t\t\tthis.type = type;\n\t\t\t// 发送请求\n\t\t\tthis.goodsSearch();\n\t\t},\n\t\tasync goodsSearch() {\n\t\t\tlet res = await reqGetGoodsSearch({\n\t\t\t\tdid    : this.did,\n\t\t\t\ttype   : this.type,\n\t\t\t\tmin    : this.min,\n\t\t\t\tmax    : this.max,\n\t\t\t\tkeyword: this.keyword\n\t\t\t});\n\t\t\tif (!res) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.goodsList = res.data;\n\t\t\tconsole.log(this.goodsList);\n\t\t\t// 处理初始的前8条数据\n\t\t\tthis.goodsListShow = this.goodsList.filter(\n\t\t\t\t(item, index) => index < this.size\n\t\t\t);\n\t\t\t// 初始化数据\n\t\t\tthis.isReachBottom = false;\n\t\t\tthis.page = 1;\n\t\t\t// if(是不是没有数据了){\n\t\t\tif (this.goodsListShow.length >= this.goodsList.length) {\n\t\t\t\tthis.isReachBottom = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t},\n\tcomponents: {\n\t\tCrumb,\n\t\tList\n\t}\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.goods {\n\tpadding-bottom: 50px;\n\tbackground: #efefef;\n\tpadding-top: 20px;\n\t.options {\n\t\tpadding-top: 20px;\n\t\tpadding-bottom: 40px;\n\t\tli {\n\t\t\tmargin-top: 20px;\n\t\t\tstrong {\n\t\t\t\tcolor: #000;\n\t\t\t\tfont-weight: bold;\n\t\t\t}\n\t\t\tspan {\n\t\t\t\tmargin-right: 20px;\n\t\t\t\tmargin-left: 10px;\n\t\t\t\tcursor: pointer;\n\t\t\t\tcolor: #999;\n\t\t\t\t&.active {\n\t\t\t\t\tcolor: #0a328d;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Goods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Goods.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Goods.vue?vue&type=template&id=21594ee0&scoped=true&\"\nimport script from \"./Goods.vue?vue&type=script&lang=js&\"\nexport * from \"./Goods.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Goods.vue?vue&type=style&index=0&id=21594ee0&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"21594ee0\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_l","nav","item","index","key","style","color","length","_v","_s","name","_e","staticRenderFns","props","data","component","arr","directives","rawName","value","expression","id","on","$event","goToDetails","attrs","imgUrl","coverImg","coin","require","methods","option1","class","num1","option1Click","min","max","txt","option2","num2","option2Click","type","goodsListShow","staticStyle","isReachBottom","getScrollTop","scrollTop","document","documentElement","body","getClientHeight","clientHeight","Math","getScrollHeight","scrollHeight","goodsList","size","page","isLoading","did","keyword","created","mounted","window","beforeDestroy","watch","handler","scrollFn","setTimeout","i","components","Crumb","List"],"sourceRoot":""}